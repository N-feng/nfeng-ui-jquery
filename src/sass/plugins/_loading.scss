$width: 4px;
$height: 14px;
$duration: 1500;
$backgroundColor: #595959;
$containerWidth: 130px;
$transformOriginY: 170%;

@mixin ios-loading ($parent, $width, $height, $duration, $containerWidth, $borderRadius: 10px) {
  #{$parent} {
    background-color:$backgroundColor;
    border-radius:$borderRadius;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    text-align:center;
    font-family:Helvetica;
    font-size:12px;
    color:white;
    margin: 0 auto;
    width: $containerWidth;
    height: $containerWidth;
  }
  .indicator {
    transform:translateX(50%);
    margin-left:-($width / 2);
    height:70px;
  }
  @-webkit-keyframes throbber {
      0% { background-color:white }
      100% { background-color:#808080 }
  }
  
  @for $i from 0 through 11 {
    #{$parent} .segment:nth-child(#{$i + 1}) {
      transform: rotate(#{30 * $i}deg);
      animation-delay: #{$i * $duration/12}ms;
    }
  }
  
  #{$parent} .segment {
    position: absolute;
    height: $height;
    width : $width;
    background-color: rgba(234,234,234, .30);
    border-radius: 10px;
    -webkit-transform-origin-y: $transformOriginY;
    -moz-transform-origin: 0% $transformOriginY;
    animation-duration: #{$duration}ms;
    animation-iteration-count: infinite;
    animation-timing-function: linear;
    animation-name: throbber;
  }
}

@include ios-loading('.ios-loading', 2px, 4.5px, 500, 15px, 3px);

.iosTemplate {
  display: inline-block;
  vertical-align: middle;
  margin-right: 8px;
  border: 1px solid transparent;
  width: 19px;
  height: 19px;
}